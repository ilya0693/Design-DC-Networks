# Проектирование адресного пространства

## Цель
1. Собрать схему CLOS;
2. Распределить адресное пространство.

## Описание/Пошаговая инструкция выполнения домашнего задания:
В этой самостоятельной работе мы ожидаем, что вы самостоятельно:
1. Соберете топологию CLOS, как на схеме:

![alt-текст](https://github.com/ilya0693/Design-DC-Networks/blob/main/Homework1/%D0%A2%D0%BE%D0%BF%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%20CLOS.avif "Топология CLOS")

2. Распределите адресное пространство для Underlay сети.
3. План работы, адресное пространство, схема сети, настройки - зафиксированы в документации. Документация оформлена на github (markdown).

## Выполнение домашнего задания
### Топология сети ЦОД и ее описание
Схема сети центра обработки данных (далее ЦОД) компании ООО "Оринтекс" города Краснодар представлена ниже. 

![alt-текст](https://github.com/ilya0693/Design-DC-Networks/blob/main/Homework1/%D0%A1%D1%85%D0%B5%D0%BC%D0%B0%20%D1%81%D0%B5%D1%82%D0%B8%20%D0%A6%D0%9E%D0%94%20(%D0%94%D0%971)-L1-L2%20%D1%82%D0%BE%D0%BF%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F.png "Схема сети ЦОД")

На схеме видно, что сеть ЦОДа представляет собой сеть, включающую в себя 3 Leaf и 2 Spine коммутатора. Каждый Leaf подключается к каждому Spine в сети по L3 соединению (соединению p2p). Клиенты подключаются к Leaf коммутаторам. Интерфейсы со стороны Leaf коммутаторов переведены в режим Access и назначены в соответствующие VLAN'ы. На рисунке ниже представлена L3 схема (схема межвзаимодействия) между сетевыми устройствами.

![alt-текст](https://github.com/ilya0693/Design-DC-Networks/blob/main/Homework1/v%201.0%20%D0%A1%D1%85%D0%B5%D0%BC%D0%B0%20%D1%81%D0%B5%D1%82%D0%B8%20%D0%A6%D0%9E%D0%94%20(%D0%94%D0%971)-L3%20%D1%81%D1%85%D0%B5%D0%BC%D0%B0.png "Схема межвзаимодействия между сетевыми устройствами")

### Адресное пространство для Underlay
#### Краткая информация о резервировании IP-адресов

Для нашего ЦОДа выделена сеть `10.123.0.0/16` которая, в свою очередь, разбивается на подсети. Такая сеть выбрана из следующих соображений:
1. Первый октет означает класс сети и остается неизменным. Так как сеть класса "А" имеет большой диапазон IP-адресов, для возможности масштабирования и сегментации была выбрана сеть данного класса `(10.0.0.0/8)`. 
2. Второй октет обозначает номер региона, в котором находится ЦОД. В нашем примере ЦОД расположен в Краснодарском крае - 123 регион.
3. Значение третьего октета варьируется в зависимости от роли/назначения подсети. Если подсеть предназначена для пользователей или сервисов, то значение 3го октета варьируется от 100 до 255. Данные значения сопоставляются с номером VLAN'а в сети ЦОД. Например, если сервисы заведены в VLAN 100, то они будут в подсети 10.123.100.0/24. Если подсеть предназначена для сетевых устройств (например, для p2p соединений или Loopback интерфейсов), то значение 3го октета варьируется от 0 до 99.
4. Четвертый октет может быть любым числом от 1 до 254.

Ниже представлено резервирование подсетей и таблица IP-адресации, назначенные на устройства.

##### Таблица 1 - Таблица резервирования подсетей

|Локация      |Сеть           |Подсеть       |VLAN ID|Название VLAN|Описание VLAN'а / подсети                                                                   |
|-------------|---------------|--------------|-------|-------------|--------------------------------------------------------------------------------------------|
|ЦОД Краснодар|10.123.0.0/24  |N/A           |N/A    |N/A          |Зарезервированная подсеть для Loopback интерфейсов Spine и Leaf коммутаторов                |
|ЦОД Краснодар|10.123.1.0/24  |10.123.1.0/30 |N/A    |N/A          |Зарезервированная подсеть для p2p соединения между сетевыми устройствами Leaf-1 <--> Spine-1|
|ЦОД Краснодар|10.123.1.0/24  |10.123.1.4/30 |N/A    |N/A          |Зарезервированная подсеть для p2p соединения между сетевыми устройствами Leaf-1 <--> Spine-2|
|ЦОД Краснодар|10.123.1.0/24  |10.123.1.8/30 |N/A    |N/A          |Зарезервированная подсеть для p2p соединения между сетевыми устройствами Leaf-2 <--> Spine-1|
|ЦОД Краснодар|10.123.1.0/24  |10.123.1.12/30|N/A    |N/A          |Зарезервированная подсеть для p2p соединения между сетевыми устройствами Leaf-2 <--> Spine-2|
|ЦОД Краснодар|10.123.1.0/24  |10.123.1.16/30|N/A    |N/A          |Зарезервированная подсеть для p2p соединения между сетевыми устройствами Leaf-3 <--> Spine-1|
|ЦОД Краснодар|10.123.1.0/24  |10.123.1.20/30|N/A    |N/A          |Зарезервированная подсеть для p2p соединения между сетевыми устройствами Leaf-3 <--> Spine-2|
|ЦОД Краснодар|10.123.100.0/24|N/A           |100    |Clients      |Подсеть клиентов                                                                            |


##### Таблица 2 - Таблица адресации
|Device |Port|IP-address      |VLAN|Default GW     |Comment    |
|-------|----|----------------|----|---------------|-----------|
|Client1|eth0|10.123.100.10/24|100 |10.123.100.1/24|Client VLAN|
|Client2|eth0|10.123.100.11/24|100 |10.123.100.1/24|Client VLAN|
|Client3|eth0|10.123.100.12/24|100 |10.123.100.1/24|Client VLAN|
|Client4|eth0|10.123.100.13/24|100 |10.123.100.1/24|Client VLAN|
|Spine-1|eth1|10.123.1.1/30   |N/A |N/A            |p2p connect with Leaf-1: eth1|
|Leaf-1 |eth1|10.123.1.2/30   |N/A |N/A            |p2p connect with Spine-1: eth1|
|Spine-2|eth1|10.123.1.5/30   |N/A |N/A            |p2p connect with Leaf-1: eth2|
|Leaf-1 |eth2|10.123.1.6/30   |N/A |N/A            |p2p connect with Spine-2: eth1|
|Spine-1|eth2|10.123.1.9/30   |N/A |N/A            |p2p connect with Leaf-2: eth1|
|Leaf-2 |eth1|10.123.1.10/30  |N/A |N/A            |p2p connect with Spine-1: eth2|
|Spine-2|eth2|10.123.1.13/30  |N/A |N/A            |p2p connect with Leaf-2: eth2|
|Leaf-2 |eth2|10.123.1.14/30  |N/A |N/A            |p2p connect with Spine-2: eth2|
|Spine-1|eth3|10.123.1.17/30  |N/A |N/A            |p2p connect with Leaf-3: eth1|
|Leaf-3 |eth1|10.123.1.18/30  |N/A |N/A            |p2p connect with Spine-1: eth3|
|Spine-2|eth3|10.123.1.21/30  |N/A |N/A            |p2p connect with Leaf-3: eth2|
|Leaf-3 |eth2|10.123.1.22/30  |N/A |N/A            |p2p connect with Spine-2: eth3|

### Конфигурация сетевого оборудования
Конфигурацию оборудования смотрите в **_Homework2_**
